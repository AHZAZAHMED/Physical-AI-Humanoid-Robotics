"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[420],{7081:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>c,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"module-1/nodes-topics-and-services","title":"Nodes, Topics, and Services","description":"Understanding the fundamental communication patterns in ROS 2 is essential for developing distributed robotic systems. This module covers the three primary communication mechanisms: nodes, topics, and services.","source":"@site/docs/module-1/nodes-topics-and-services.md","sourceDirName":"module-1","slug":"/module-1/nodes-topics-and-services","permalink":"/Physical-AI-Humanoid-Robotics/docs/module-1/nodes-topics-and-services","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1765393240000,"frontMatter":{"title":"Nodes, Topics, and Services"},"sidebar":"tutorialSidebar","previous":{"title":"ROS 2 Architecture","permalink":"/Physical-AI-Humanoid-Robotics/docs/module-1/ros-2-architecture"},"next":{"title":"URDF and Packages","permalink":"/Physical-AI-Humanoid-Robotics/docs/module-1/urdf-and-packages"}}');var r=i(4848),l=i(8453);const c={title:"Nodes, Topics, and Services"},t="Nodes, Topics, and Services",o={},d=[{value:"Nodes",id:"nodes",level:2},{value:"Creating a Node",id:"creating-a-node",level:3},{value:"Node Lifecycle",id:"node-lifecycle",level:3},{value:"Topics and Publishers/Subscribers",id:"topics-and-publisherssubscribers",level:2},{value:"Publisher",id:"publisher",level:3},{value:"Subscriber",id:"subscriber",level:3},{value:"Quality of Service (QoS)",id:"quality-of-service-qos",level:3},{value:"Services",id:"services",level:2},{value:"Service Server",id:"service-server",level:3},{value:"Service Client",id:"service-client",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2}];function a(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"nodes-topics-and-services",children:"Nodes, Topics, and Services"})}),"\n",(0,r.jsx)(s.p,{children:"Understanding the fundamental communication patterns in ROS 2 is essential for developing distributed robotic systems. This module covers the three primary communication mechanisms: nodes, topics, and services."}),"\n",(0,r.jsx)(s.h2,{id:"nodes",children:"Nodes"}),"\n",(0,r.jsx)(s.p,{children:"Nodes are the fundamental building blocks of a ROS 2 system. Each node is a process that performs computation and communicates with other nodes."}),"\n",(0,r.jsx)(s.h3,{id:"creating-a-node",children:"Creating a Node"}),"\n",(0,r.jsx)(s.p,{children:"In Python:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\n\nclass MinimalPublisher(Node):\n    def __init__(self):\n        super().__init__('minimal_publisher')\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = 'Hello World: %d' % self.i\n        self.publisher_.publish(msg)\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\n        self.i += 1\n"})}),"\n",(0,r.jsx)(s.h3,{id:"node-lifecycle",children:"Node Lifecycle"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Initialization"}),": Node registers with the ROS graph"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Execution"}),": Node performs its computational tasks"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Shutdown"}),": Node cleanly disconnects from the ROS graph"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"topics-and-publisherssubscribers",children:"Topics and Publishers/Subscribers"}),"\n",(0,r.jsx)(s.p,{children:"Topics enable asynchronous, many-to-many communication through a publish/subscribe pattern."}),"\n",(0,r.jsx)(s.h3,{id:"publisher",children:"Publisher"}),"\n",(0,r.jsx)(s.p,{children:"A publisher sends messages to a topic:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"publisher = node.create_publisher(String, 'topic_name', 10)\n"})}),"\n",(0,r.jsx)(s.h3,{id:"subscriber",children:"Subscriber"}),"\n",(0,r.jsx)(s.p,{children:"A subscriber receives messages from a topic:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"subscriber = node.create_subscription(\n    String, 'topic_name', callback_function, 10)\n"})}),"\n",(0,r.jsx)(s.h3,{id:"quality-of-service-qos",children:"Quality of Service (QoS)"}),"\n",(0,r.jsx)(s.p,{children:"QoS settings control the delivery guarantees for topics:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Reliability"}),": Best effort vs. reliable delivery"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Durability"}),": Volatile vs. transient local"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"History"}),": Keep all vs. keep last N messages"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"services",children:"Services"}),"\n",(0,r.jsx)(s.p,{children:"Services provide synchronous request/response communication."}),"\n",(0,r.jsx)(s.h3,{id:"service-server",children:"Service Server"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"service = node.create_service(AddTwoInts, 'add_two_ints', callback)\n"})}),"\n",(0,r.jsx)(s.h3,{id:"service-client",children:"Service Client"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"client = node.create_client(AddTwoInts, 'add_two_ints')\n"})}),"\n",(0,r.jsx)(s.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Node Design"}),": Each node should have a single, well-defined responsibility"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Topic Naming"}),": Use descriptive, hierarchical names"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Message Types"}),": Use standard message types when possible"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Error Handling"}),": Implement proper error handling and recovery"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Resource Management"}),": Clean up resources properly during shutdown"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,r.jsx)(s.p,{children:"After completing this module, you will be able to:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Create and manage ROS 2 nodes"}),"\n",(0,r.jsx)(s.li,{children:"Implement publisher/subscriber patterns"}),"\n",(0,r.jsx)(s.li,{children:"Design service-based communication"}),"\n",(0,r.jsx)(s.li,{children:"Apply appropriate QoS settings for different use cases"}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,s,i)=>{i.d(s,{R:()=>c,x:()=>t});var n=i(6540);const r={},l=n.createContext(r);function c(e){const s=n.useContext(l);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),n.createElement(l.Provider,{value:s},e.children)}}}]);